!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.SDFParser=r():e.SDFParser=r()}(this,function(){return function(e){function r(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var i={};return r.m=e,r.c=i,r.p="",r(0)}([function(e,r){"use strict";function i(e,r){var r=r||{},i=r.include,t=r.exclude,n=r.filter,o=r.modifiers||{},a=r.forEach||{};if("string"!=typeof e)throw new TypeError('Parameter "sdf" must be a string');var f=e.substr(0,1e3),s="\n";f.indexOf("\r\n")>-1?s="\r\n":f.indexOf("\r")>-1&&(s="\r");for(var l=e.split(s+"$$$$"+s),u=[],c={},p=Date.now(),d=0;d<l.length;d++){var m=l[d],v=m.split(s+">");if(v.length>0&&v[0].length>5){var x={},h=[];x.molfile=v[0]+s;for(var g=1;g<v.length;g++){var b=v[g].split(s),y=b[0].indexOf("<"),O=b[0].indexOf(">"),w=b[0].substring(y+1,O);if(h.push(w),c[w]||(c[w]={counter:0,isNumeric:!0,keep:!1},t&&t.indexOf(w)>-1||(!i||i.indexOf(w)>-1)&&(c[w].keep=!0,o[w]&&(c[w].modifier=o[w]),a[w]&&(c[w].forEach=a[w]))),c[w].keep){for(var V=1;V<b.length-1;V++)x[w]?x[w]+=s+b[V]:x[w]=b[V];if(c[w].modifier){var j=c[w].modifier(x[w]);void 0===j||null===j?delete x[w]:x[w]=j}c[w].isNumeric&&(isFinite(x[w])||(c[w].isNumeric=!1))}}if(!n||n(x)){u.push(x);for(var g=0;g<h.length;g++){var k=h[g];c[k].counter++}}}}for(var w in c){var k=c[w];if(k.isNumeric){k.minValue=1/0,k.maxValue=-(1/0);for(var g=0;g<u.length;g++)if(u[g][w]){var D=parseFloat(u[g][w]);u[g][w]=D,D>k.maxValue&&(k.maxValue=D),D<k.minValue&&(k.minValue=D)}}}for(var F in c)c[F].counter===u.length?c[F].always=!0:c[F].always=!1;var N=[];for(var F in c){var $=c[F];$.label=F,N.push($)}return{time:Date.now()-p,molecules:u,labels:Object.keys(c),statistics:N}}e.exports=i}])});
//# sourceMappingURL=sdf-parser.min.js.map