!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.SDFParser=r():e.SDFParser=r()}(this,function(){return function(e){function r(i){if(t[i])return t[i].exports;var n=t[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r){"use strict";function t(e,r){var r=r||{},t=r.include,i=r.exclude,n=r.filter,o=r.modifiers||{},a=r.forEach||{};if("string"!=typeof e)throw new TypeError('Parameter "sdf" must be a string');var f=e.substr(0,1e3),s="\n";f.indexOf("\r\n")>-1?s="\r\n":f.indexOf("\r")>-1&&(s="\r");for(var l=e.split(s+"$$$$"+s),u=[],c={},p=Date.now(),d=0;d<l.length;d++){var m=l[d],v=m.split(s+">");if(v.length>0&&v[0].length>5){var x={},h=[];x.molfile=v[0]+s;for(var g=1;g<v.length;g++){var b=v[g].split(s),y=b[0].indexOf("<"),O=b[0].indexOf(">"),w=b[0].substring(y+1,O);if(h.push(w),c[w]||(c[w]={counter:0,isNumeric:!0,keep:!1},i&&i.indexOf(w)>-1||(!t||t.indexOf(w)>-1)&&(c[w].keep=!0,o[w]&&(c[w].modifier=o[w]),a[w]&&(c[w].forEach=a[w]))),c[w].keep){for(var V=1;V<b.length-1;V++)x[w]?x[w]+=s+b[V]:x[w]=b[V];c[w].modifier&&(x[w]=c[w].modifier(x[w])),c[w].isNumeric&&(isFinite(x[w])||(c[w].isNumeric=!1))}}if(!n||n(x)){u.push(x);for(var g=0;g<h.length;g++){var j=h[g];c[j].counter++}}}}for(var w in c){var j=c[w];if(j.isNumeric){j.minValue=1/0,j.maxValue=-(1/0);for(var g=0;g<u.length;g++)if(u[g][w]){var k=parseFloat(u[g][w]);u[g][w]=k,k>j.maxValue&&(j.maxValue=k),k<j.minValue&&(j.minValue=k)}}}for(var D in c)c[D].counter===u.length?c[D].always=!0:c[D].always=!1;var F=[];for(var D in c){var N=c[D];N.label=D,F.push(N)}return{time:Date.now()-p,molecules:u,labels:Object.keys(c),statistics:F}}e.exports=t}])});
//# sourceMappingURL=sdf-parser.min.js.map