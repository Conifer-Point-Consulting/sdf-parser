!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.SDFParser=r():e.SDFParser=r()}(this,function(){return function(e){function r(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var i={};return r.m=e,r.c=i,r.p="",r(0)}([function(e,r){"use strict";function i(e,r){var r=r||{},i=r.include,t=r.exclude,n=r.filter,o=r.modifiers||{},a=r.forEach||{};if("string"!=typeof e)throw new TypeError('Parameter "sdf" must be a string');var f=e.substr(0,1e3),s="\n";f.indexOf("\r\n")>-1?s="\r\n":f.indexOf("\r")>-1&&(s="\r");for(var l=e.split(new RegExp(s+"\\$\\$\\$\\$.*"+s)),u=[],p={},c=Date.now(),d=0;d<l.length;d++){var m=l[d],v=m.split(s+">");if(v.length>0&&v[0].length>5){var x={},h=[];x.molfile=v[0]+s;for(var g=1;g<v.length;g++){var b=v[g].split(s),y=b[0].indexOf("<"),w=b[0].indexOf(">"),O=b[0].substring(y+1,w);if(h.push(O),p[O]||(p[O]={counter:0,isNumeric:!0,keep:!1},t&&t.indexOf(O)>-1||(!i||i.indexOf(O)>-1)&&(p[O].keep=!0,o[O]&&(p[O].modifier=o[O]),a[O]&&(p[O].forEach=a[O]))),p[O].keep){for(var V=1;V<b.length-1;V++)x[O]?x[O]+=s+b[V]:x[O]=b[V];if(p[O].modifier){var j=p[O].modifier(x[O]);void 0===j||null===j?delete x[O]:x[O]=j}p[O].isNumeric&&(isFinite(x[O])||(p[O].isNumeric=!1))}}if(!n||n(x)){u.push(x);for(var g=0;g<h.length;g++){var k=h[g];p[k].counter++}}}}for(var O in p){var k=p[O];if(k.isNumeric){k.minValue=1/0,k.maxValue=-(1/0);for(var g=0;g<u.length;g++)if(u[g][O]){var D=parseFloat(u[g][O]);u[g][O]=D,D>k.maxValue&&(k.maxValue=D),D<k.minValue&&(k.minValue=D)}}}for(var E in p)p[E].counter===u.length?p[E].always=!0:p[E].always=!1;var F=[];for(var E in p){var N=p[E];N.label=E,F.push(N)}return{time:Date.now()-c,molecules:u,labels:Object.keys(p),statistics:F}}e.exports=i}])});
//# sourceMappingURL=sdf-parser.min.js.map